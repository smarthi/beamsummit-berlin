<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Beaming Deep Learning with Ludwig</title>

    <meta name="description" content="Beaming Deep Learning with Ludwig">
    <meta name="author" content="Suneel Marthi">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/bbuzz17.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
    <!--[if lt IE 9]> <script src="lib/js/html5shiv.js"></script> <![endif]-->
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background-image="img/berlin.jpg" style="size: 90%">
          <br/>
          <br/>
          <br/>
          <h3>Beaming Deep Learning with Ludwig</h3>
          <br/>
          <p>Suneel Marthi</p>
          <p style="font-size: 60%">June 19, 2019<br/>
             Beam Summit Europe, Berlin, Germany</p>
        </section>
                <section data-background-image="img/warsaw.jpg">
                    <h3>$WhoAmI</h3>
                    <br/>
                    <ul style='list-style: none;'>
                        <li>
                            <h6 style='text-align: left; font-size: 80%;'>Suneel Marthi <br/><span style="font-size: 60%"><i class="fa fa-twitter" aria-hidden="true"></i> @suneelmarthi</span></h6>
                            <ul style='font-size: 70%;'>
                                <li>Member of Apache Software Foundation</li>
                                <li>Committer and PMC on Apache OpenNLP, Apache Mahout, Apache Streams and Apache Incubator</li>
                            </ul>
                        </li>
                    </ul>
                </section>
        <section data-background-image="img/ZsMwlm2-blueish.jpg">
          <h3>Agenda</h3>
          <ul>
            <li>Introduction</li>
            <li>What is Ludwig?</li>
            <li>Ludwig Philosophy</li>
            <li>Beaming with Ludwig</li>
            <li>Sample Demos</li>
            <li>Future Work</li>
          </ul>
        </section>

        <section data-background-image="img/ZsMwlm2-greenish.jpg">
            <h3>What is Ludwig?</h3>
                <p style='text-align: left'>TensorFlow based toolkit from Uber AI labs</p>
                <p style='text-align: left'>Open Sourced by Uber in 2019 - Apache 2 license</p>
        </section>

        <section data-background-image="img/ZsMwlm2-yellowish.jpg">
            <h3>Ludwig Philosophy</h3>
            <p style='text-align: left'><i>“If deep learning libraries provide the building blocks for your building,
                Ludwig provides the buildings for your city, and you choose among the available buildings
                or add your own building to the set of available ones.”</i></p>
        </section>

        <section data-background-image="img/ZsMwlm2-purpleish.jpg">
            <h4>Kein Programmieren Notwendig</h4>
            <p style='text-align: left'>ZERO coding experience needed to train a model and make predictions</p>
            <p style='text-align: left'><i>Mein Sohn der 6. Klasse has created a few text classification models to cheat on his school English homework</i></p>
        </section>

        <section data-background-image="img/ZsMwlm2-greenish.jpg">
            <h4>Generell</h4>
                <p style='text-align: left'>Data type-based approach to Deep Learning Model Design </p>
                <p style='text-align: left'>Makes the framework usable across different use cases</p>
        </section>

        <section data-background-image="img/ZsMwlm2-redish.jpg">
            <h4>Flexibel</h4>
            <p style='text-align: left'>Easy to learn for Deep Learning novices</p>
            <p style='text-align: left'>Experienced DL practitioners have extensive Model control</p>
        </section>

        <section data-background-image="img/ZsMwlm2-yellowish.jpg">
            <h4>Erweiterbarkeit</h4>
            <p style='text-align: left'>Easily add new model architectures and feature types.</p>
        </section>

        <section data-background-image="img/ZsMwlm2-redish.jpg">
            <h4>Verständlichkeit</h4>
            <p style='text-align: left'>Most Deep Learning models seem like Black Boxes</p>
            <p style='text-align: left'>Ludwig provides Visualization tools to measure performance and understand predictions</p>
        </section>

        <section data-background-image="img/ZsMwlm2-greenish.jpg">
            <h4>How does it all Work?</h4>
            <p style='text-align: left'>Only CSV input format now supported</p>
            <p style='text-align: left'>Provide training data in CSV and a Model Definition file as YAML</p>
        </section>

        <section data-background-image="img/ZsMwlm2-greenish.jpg">
            <h4>Sample Model Definition (YAML)</h4>
            <pre><code data-trim data-noescape>
                input_features:
                    -
                        name: text
                        type: text

                output_features:
                    -
                        name: airline_sentiment
                        type: category
            </code></pre>
        </section>

        <section data-background-image="img/ZsMwlm2-greenish.jpg">
            <h3>Data-Type Specific Encoders and Decoders</h3>
            <p style='text-align: left'>Encoders map raw data to Tensors</p>
            <p style='text-align: left'>Decoders map Tensors to Outputs</p>
            <p style='text-align: left'>Combiners combine the tensors from all input encoders, process them,
                and return the tensors to be used for the output decoders. </p>
        </section>

        <section data-background-image="img/ZsMwlm2-purpleish.jpg">
            <h4>Ludwig Architecture</h4>
            <div style="background: #c9c9c9;">
                <img src='img/ludwigArchitecture.png' style='margin: 0px, 20px, 0px, 20px; border: none; background: none;box-shadow: none; '/><br/>
            </div>
        </section>

        <section data-background-image="img/ZsMwlm2-purpleish.jpg">
            <p style='text-align: left'>Flexible encoder-Decoder architecture allows to train sophisticated models</p>
            <p style='text-align: left'>Eg: For a NLP task - use a Convolutional Neural Network (CNN) as text encoder,</p>
            <p style='text-align: left'>and a Recurrent Neural Network(RNN) as decoder</p>
        </section>

        <section data-background-image="img/ZsMwlm2-yellowish.jpg">
            <h3>Beaming Ludwig Models</h3>
            <p style='text-align: left'>Train a Ludwig Model offline</p>
            <p style='text-align: left'>Model Inference in a Beam pipeline</p>
        </section>

        <section data-background-image="img/ZsMwlm2-yellowish.jpg">
            <h3>Inference Pipeline</h3>
            <img src='img/inference-pipeline.png' style='max-width: 80%; border: none; background: none;box-shadow: none; '/>
        </section>

        <section data-background-image="img/ZsMwlm2-redish.jpg">
            <h3>Beam Inference Pipeline</h3>
            <pre><code data-trim data-noescape>
                pipeline_options = PipelineOptions(pipeline_args)
                pipeline_options.view_as(SetupOptions).save_main_session = True
                pipeline_options.view_as(StandardOptions).streaming = True

              with beam.Pipeline(options=pipeline_options) as p:
                  filtered_tweets = (p
                                     | beam.io.ReadFromText('tweets.txt')
                                     |'batch into n batches' >> BatchElements(min_batch_size=1, max_batch_size=5)
                                     | "Translate tweets" >> beam.ParDo(TranslateDoFn.TranslateDoFn()))
            </code></pre>
        </section>

        <section data-background-image="img/ZsMwlm2-greenish.jpg">
            <h3>Limitations</h3>
            <p style='text-align: left'>Ludwig presently only supports CSV inputs</p>
            <p style='text-align: left'>Model training still needs to be done offline</p>
        </section>

        <section data-background-image="img/ZsMwlm2-purpleish.jpg">
            <h3>Future Work</h3>
            <p style='text-align: left'>Add support in Ludwig to handle TFRecords, use Beam's TFRecordIO to proceess Ludwig records</p>
            <p style='text-align: left'>Explore integration of Ludwig and TFX ?</p>
        </section>

        <section data-background-image="img/ZsMwlm2-redish.jpg">
            <h2>Links</h2>
            <ul>
                <li>Ludwig: https://uber.github.io/ludwig/</li>
                <li>Apache Beam: https://beam.apache.org</li><br/>
                <li>Slides: https://smarthi.github.io/beamsummit-berlin</li><br/>
            </ul>
        </section>
        <section data-background-image="img/ZsMwlm2.jpg">
          <h2>Fragen ???</h2>
        </section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: true,
        slideNumber: true,
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        keyboard: true,
        touch: true,
        loop: false,
        fragments: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
